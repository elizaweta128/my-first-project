"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[117],{1685:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var r=t(9379),o=t(5043);const a="ProfileInfo_profileData__m1bqM",l="ProfileInfo_profileAvatar__2yGqg";var i=t(6795),n=t(1758),d=t(579);const u=e=>{let[s,t]=(0,o.useState)(!1),[r,a]=(0,o.useState)(e.status||"");(0,o.useEffect)((()=>{a(e.status||"")}),[e.status]);return(0,d.jsx)("div",{children:s?(0,d.jsx)("div",{children:(0,d.jsx)("input",{type:"text",autoFocus:!0,onBlur:()=>{t(!1),e.updateProfileStatus(r)},value:r,onChange:e=>{a(e.currentTarget.value)}})}):(0,d.jsx)("div",{children:(0,d.jsx)("span",{onDoubleClick:()=>{t(!0)},children:e.status?e.status:"no status"})})})},c=e=>{let{profile:s,status:t,updateProfileStatus:r}=e;return s?(0,d.jsx)("div",{children:(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:a,children:[(0,d.jsx)("div",{className:l,children:(0,d.jsx)("img",{src:s.photos.small?s.photos.large:n,alt:""})}),(0,d.jsx)("div",{children:(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{children:s.fullName}),(0,d.jsx)(u,{status:t,updateProfileStatus:r}),(0,d.jsx)("div",{children:s.aboutMe})]})})]})})}):(0,d.jsx)(i.A,{})};var m=t(5977);const p="MyPosts_postsBlock__lB-pf",f="MyPosts_posts__GSiZ2",h="Post_item__Yu4oG",x=t.p+"static/media/avatar_profile.bbdf85eb9894ce7f8b8c.jpg",j=e=>(0,d.jsxs)("div",{className:h,children:[(0,d.jsx)("img",{src:x,alt:""}),e.message,(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{children:"like"})," ",e.likesCount]})]});var _=t(5963),v=t(3842),g=t(6545),A=t(6292);const P=(0,g.d)(10),b=(0,v.A)({form:"addPostForm"})((e=>(0,d.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,d.jsx)("div",{children:(0,d.jsx)(_.A,{component:A.T,name:"post",type:"text",placeholder:"Enter your post",validate:[g.Q,P]})}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{children:"Add post"})})]}))),C=o.memo((e=>{let{addPost:s,posts:t}=e,r=t.map((e=>(0,d.jsx)(j,{message:e.message,likesCount:e.likesCount,id:e.id},e.id)));return(0,d.jsxs)("div",{className:p,children:[(0,d.jsx)("h3",{children:"My posts"}),(0,d.jsx)(b,{onSubmit:e=>{s(e.post)}}),(0,d.jsx)("div",{className:f,children:r})]})}));var S=t(2166);const k=(0,S.Ng)((e=>({posts:e.profilePage.posts})),{addPost:m.SD})(C),M=e=>(0,d.jsxs)("div",{children:[(0,d.jsx)(c,{profile:e.profile,status:e.status,updateProfileStatus:e.updateProfileStatus}),(0,d.jsx)(k,{})]});var y=t(3216);const N=(0,t(805).Zz)((0,S.Ng)((e=>({profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,authUserId:e.auth.userId})),{getUserProfile:m.VM,getProfileStatus:m.C7,updateProfileStatus:m.Tk}))((e=>{const{authUserId:s,getUserProfile:t,getProfileStatus:a}=e,l=(0,y.g)(),i=(0,y.Zp)();return(0,o.useEffect)((()=>{let e=l.userId||s;if(!e)return i("/login");t(e),a(e)}),[l.userId,s,i,t,a]),(0,d.jsx)(M,(0,r.A)((0,r.A)({},e),{},{profile:e.profile}))}))},6292:(e,s,t)=>{t.d(s,{T:()=>c,p:()=>m});var r=t(9379),o=t(45),a=(t(5043),t(8304)),l=t(579);const i=["input","meta","element"],n=["input","meta","element"],d=["input","meta","element"],u=e=>{let{input:s,meta:t,element:r}=e,n=(0,o.A)(e,i);const d=t.touched&&t.error;return(0,l.jsxs)("div",{className:"".concat(a.A.formControl," + ").concat(d?"".concat(a.A.error):""),children:[n.children,d?(0,l.jsx)("div",{className:a.A.messageError,children:d?t.error:void 0}):void 0]})},c=e=>{const{input:s,meta:t,element:a}=e,i=(0,o.A)(e,n);return(0,l.jsx)(u,(0,r.A)((0,r.A)({},e),{},{children:(0,l.jsx)("textarea",(0,r.A)((0,r.A)({},s),i))}))},m=e=>{const{input:s,meta:t,element:a}=e,i=(0,o.A)(e,d);return(0,l.jsx)(u,(0,r.A)((0,r.A)({},e),{},{children:(0,l.jsx)("input",(0,r.A)((0,r.A)({},s),i))}))}},6545:(e,s,t)=>{t.d(s,{Q:()=>r,d:()=>o});const r=e=>{if(!e)return"required field"},o=e=>s=>{if(s&&s.length>e)return"Max length is ".concat(e," symbols")}},8304:(e,s,t)=>{t.d(s,{A:()=>r});const r={formControl:"FormsControls_formControl__NR1bV",error:"FormsControls_error__wukgD",messageError:"FormsControls_messageError__M-fxS",formSummaryError:"FormsControls_formSummaryError__Rdvzq",authForm:"FormsControls_authForm__uMX33",rememberMeBlock:"FormsControls_rememberMeBlock__W2XYN",rememberMe:"FormsControls_rememberMe__vkMIa"}}}]);
//# sourceMappingURL=117.92779e29.chunk.js.map